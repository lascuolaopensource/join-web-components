<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Web Components Preview</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }
      main {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }
      h1 {
        color: #333;
        margin-top: 0;
      }
      h2 {
        color: #666;
        font-size: 18px;
        margin-top: 30px;
        margin-bottom: 15px;
      }
      .demo-section {
        margin: 20px 0;
        padding: 15px;
        background: #fafafa;
        border-left: 3px solid #FF3E00;
        border-radius: 4px;
      }
      code {
        background: #f0f0f0;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 14px;
      }
      .info {
        color: #666;
        font-size: 14px;
        margin: 10px 0;
      }
      .success { color: #2e7d32; }
      .error { color: #d32f2f; }
    </style>
  </head>
  <body>
    <main>
      <h1>My Web Components Preview</h1>
      <p>Production-ready web components built with Svelte 5 and TypeScript.</p>

      <h2>Custom Element Demo:</h2>
      <div class="demo-section">
        <my-component name="Web Component"></my-component>
        <p class="info">Component loaded from: <code>my-web-components.es.js</code></p>
      </div>

      <h2>Component Usage:</h2>
      <div class="demo-section">
        <p>Use this component in your HTML:</p>
        <code>&lt;my-component name="Your Text"&gt;&lt;/my-component&gt;</code>
        <p class="info">Supports attributes: <code>name</code> (string)</p>
      </div>

      <h2>Import Methods:</h2>
      <div class="demo-section">
        <p><strong>ES Module:</strong></p>
        <code>import { MyComponent } from './my-web-components.es.js';</code>
        <p><strong>UMD:</strong></p>
        <code>&lt;script src="./my-web-components.umd.js"&gt;&lt;/script&gt;</code>
      </div>

      <h2>Component Status:</h2>
      <div class="demo-section" id="debug-info">
        <p class="info">Checking component registration...</p>
      </div>
    </main>

    <!-- Load web components library -->
    <script type="module" src="./my-web-components.es.js"></script>

    <!-- Component registration check -->
    <script>
      setTimeout(() => {
        const debugEl = document.getElementById('debug-info');
        const componentClass = customElements.get('my-component');
        const myComponentEl = document.querySelector('my-component');
        
        if (componentClass) {
          const elementInfo = myComponentEl ? 
            `<p class="info">✓ Element in DOM: <code>${myComponentEl.outerHTML.substring(0, 50)}...</code></p>` : 
            '';
          debugEl.innerHTML = `
            <p class="info success">✓ Component registered successfully</p>
            <p class="info">Custom element: <code>MyComponent</code></p>
            <p class="info">Tag: <code>&lt;my-component&gt;</code></p>
            ${elementInfo}
          `;
        } else {
          debugEl.innerHTML = `
            <p class="info error">✗ Component registration failed</p>
            <p class="info">Check browser console for errors.</p>
          `;
          console.error('my-component failed to register');
        }
      }, 500);
    </script>
  </body>
</html>
